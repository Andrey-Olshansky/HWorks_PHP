<?php
    /*Домашнее задание к занятию «1.1. Знакомство с PHP»
    http://localhost/HWorks_PHP/Hw_2_Console.php 
    для консоли
    1.  cd C:\localhost\HWorks_PHP 
    2. php Hw_2_Console.php*/
?>

<?php
/*Variant from date: 21.11.2025 
    Задание №2: создание консольного скрипта.
    Напишите скрипт, который делит одно число на другое:

    1. Скрипт должен принимать два значения в поток stdin.
    2. Скрипт должен проверять, что оба значения — это целочисленное число (int).
    3. Если одно из значений не является числом, то в поток stderr необходимо 
        вывести сообщение «Введите, пожалуйста, число».
    4. Скрипт должен разделить первое число на второе.
    5. Не забываем, что делить на ноль нельзя. Необходимо проверить, что второе 
        число не равно нулю. Если равно, вывести в поток stderr сообщение 
        «Делить на 0 нельзя».
    6. Вывести результат деления в поток stdout.
*/

    fwrite(STDOUT, "Введите первое число: ");
    $num1 = trim(fgets(STDIN));

    fwrite(STDOUT, "Введите второе число: ");
    $num2 = trim(fgets(STDIN));

    if (!is_numeric($num1) || !is_numeric($num2)) {
        fwrite(STDERR, "Введите, пожалуйста, число\n");
        exit(1);
    }

    $num1 = (int)$num1;
    $num2 = (int)$num2;

    if ($num2 === 0) {
        fwrite(STDERR, "Делить на 0 нельзя\n");
        exit(1);
    }

    $result = $num1 / $num2;
    fwrite(STDOUT, "Результат: $result\n");
?>

<?php
 /*Задание №1: знакомство с документаций. Конспект.
 ОСНОВНЫЕ ОТЛИЧИЯ ОТ WEB - ЗАЧЕМ?
PHP можно запускать не только в браузере, но и в консоли как обычную программу.
Это нужно для:
- Скриптов автоматизации (бэкапы, обработка файлов)
- Крон-заданий (запланированные задачи)
- Тестирования кода без веб-сервера
- Консольных утилит

Чем отличается от web:
- Нет $_GET, $_POST - потому что нет браузера и форм
- Есть $argc, $argv - чтобы передавать параметры при запуске
- Заголовки не выводятся - они нужны только для HTTP

ОПЦИИ - КАК ЗАПУСКАТЬ?
Разные способы запуска для разных задач:
php -a              # Интерактивный режим - как калькулятор, для быстрого теста кода
php -f script.php   # Запустить готовый скрипт из файла
php -r "код"        # Выполнить короткий код без создания файла
php -S host:port    # Встроенный веб-сервер - для разработки без настройки Apache

ИСПОЛЬЗОВАНИЕ - КАК ПЕРЕДАВАТЬ ПАРАМЕТРЫ?
$argc и $argv - это автоматически создаваемые переменные при запуске из консоли:

$argc = количество переданных параметров (integer)
$argv = массив всех переданных параметров (array)

Пример: 
php backup.php /home/user today

Внутри скрипта backup.php:
$argc = 3 (всего 3 параметра)
$argv[0] = "backup.php" (имя самого скрипта - всегда первый параметр)
$argv[1] = "/home/user" (первый настоящий параметр - что бэкапить)
$argv[2] = "today" (второй параметр - когда делать бэкап)

ПОТОКИ ВВОДА-ВЫВОДА - КАК ОБЩАТЬСЯ С КОНСОЛЬЮ?
STDIN   - читать то, что пользователь вводит с клавиатуры
STDOUT  - выводить текст в консоль (обычные сообщения)
STDERR  - выводить ошибки (часто красным цветом)

Пример: 
fwrite(STDOUT, "Введите имя: ");  # Спросить у пользователя
$name = fgets(STDIN);             # Прочитать его ответ

ИНТЕРАКТИВНАЯ КОНСОЛЬ - PHP КАК КАЛЬКУЛЯТОР
php -a
>>> echo 2 + 2;        # Можно быстро посчитать
>>> $a = "test";       # Протестировать код
>>> echo strtoupper($a);
Полезно для отладки и обучения

ВСТРОЕННЫЙ ВЕБ-СЕРВЕР - ДЛЯ БЫСТРОЙ РАЗРАБОТКИ
php -S localhost:8000
- Не нужно настраивать Apache/Nginx
- Запускается из любой папки
- Автоматически ищет index.php, index.html
- Только для разработки! Не использовать на реальном сайте.

ОПЦИИ КОНФИГУРАЦИИ - КАК НАСТРОИТЬ?
-c /path/php.ini      # Если нужно особый конфиг для этого скрипта
-d memory_limit=256M  # Временно увеличить память только для этого запуска
-n                    # Запустить без настроек (чистый PHP)
 */
?>



