<?php
declare(strict_types=1);
/*Домашнее задание к занятию «8 загрузка приложения на хостинг»
    Через веб-сервер (надо делать)
    Запусти локальный сервер:

    1. cd C:\localhost\HWorks_PHP\Hw_8_Account
    2. php -S localhost:8000
    3. Открой в браузере: http://localhost:8000/index8.php
*/

/* Вариант от 18.12.2025.

Задание 2: создание и загрузка приложения на хостинг
Техническое задание:
1. Заведите публичный репозиторий на GitHub для этой работы.
2. Скачайте шаблон приложения.
3. Создайте файл index.php, который будет через include подключать и отображать HTML-код, 
    содержащий:
    3.1 информацию о вас как об авторе,
    3.2 форму, отправляющую данные в post.php с текстовым полем, подразумевающим 
        ввод имени пользователя.
4. Рядом создайте PHP-файл post.php, который будет принимать формы, сохранять имя 
пользователя в сессию и перенаправлять браузер обратно на index.php.
5. Теперь вернитесь в index.php и добавьте проверку. Если внутри сессии существует 
непустая переменная с именем пользователя, то просто поприветствуйте пользователя, 
не отображая форму, и разместите ссылку на скрипт exit.php. Иначе отобразите форму как 
было раньше.
6. В скрипте exit.php очищайте переменную сессию, содержащую имя пользователя, и 
перенаправляйте браузер обратно на index.php.
7. Загрузите работу на хостинг, используя инструкцию.

В результате должен получиться простой сайт, запоминающий имя пользователя — это почти 
как авторизация, осталось только проверить пароль — и позволяющий выйти, завершив 
сессию и забыв имя пользователя.
*/
?>

<?php
session_start();
?>
<!DOCTYPE html>
<html>
<head>
    <title>Hw8_Account</title>
</head>
<body>
    <h1>Информация об авторе</h1>
    <p>Ваше имя и информация о вас</p>
    
    <?php if(isset($_SESSION['username']) && !empty($_SESSION['username'])): ?>
        <h2>Привет, <?php echo htmlspecialchars($_SESSION['username']); ?>!</h2>
        <a href="exit8.php">Выйти</a>
    <?php else: ?>
        <form action="post8.php" method="POST">
            <input type="text" name="username" placeholder="Введите ваше имя" required>
            <button type="submit">Отправить</button>
        </form>
    <?php endif; ?>
</body>
</html>